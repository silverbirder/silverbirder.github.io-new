1:"$Sreact.fragment"
2:I[36926,["/silverbirder.github.io-new/_next/static/chunks/bf74a39339583e3f.js","/silverbirder.github.io-new/_next/static/chunks/0d4a7a041349640b.js","/silverbirder.github.io-new/_next/static/chunks/2af2c9ac095cc29a.js","/silverbirder.github.io-new/_next/static/chunks/192ccf60ce702378.js"],"PostArticle"]
7:I[49032,["/silverbirder.github.io-new/_next/static/chunks/67e37ec50aac1031.js","/silverbirder.github.io-new/_next/static/chunks/e04b806875559f41.js"],"OutletBoundary"]
8:"$Sreact.suspense"
3:T99b6,"use strict";
const {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];
const {useMDXComponents: _provideComponents} = arguments[0];
function _createMdxContent(props) {
  const _components = {
    a: "a",
    code: "code",
    figure: "figure",
    h2: "h2",
    h3: "h3",
    li: "li",
    ol: "ol",
    p: "p",
    pre: "pre",
    span: "span",
    ul: "ul",
    ..._provideComponents(),
    ...props.components
  };
  return _jsxs(_Fragment, {
    children: [_jsx(_components.p, {
      children: "私は、これまでプライベートでしか React を使っていませんでした。\n最近、業務で React を使う機会が増えたので、学んだことを残そうと思います。"
    }), "\n", _jsx(_components.h2, {
      id: "react-の歴史",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#react-の歴史",
        children: "React の歴史"
      })
    }), "\n", _jsx(_components.p, {
      children: "なんで React って生まれたんだろうって気になりました。\n簡単ですが、ちょこっとだけ調べて、次の記事にまとめました。"
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "./know_the_history_before_learning_React",
          children: "React を学ぶ前に歴史を知る"
        })
      }), "\n"]
    }), "\n", _jsx(_components.p, {
      children: "React は、次の問題を解決したかったんだと思います。"
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsx(_components.li, {
        children: "DOM ツリーが大きくなるにつれて、下位の変更によるカスケード更新の負荷が大きくなる"
      }), "\n"]
    }), "\n", _jsx(_components.p, {
      children: "そこで、React は、この問題を解決するために、仮想 DOM という仕組みを作ったんだと思います。"
    }), "\n", _jsx(_components.h2, {
      id: "仮想-dom差分検出処理そして-fiber",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#仮想-dom差分検出処理そして-fiber",
        children: "仮想 DOM、差分検出処理、そして Fiber"
      })
    }), "\n", _jsx(_components.p, {
      children: "React は、直接 DOM を操作するのではなく、仮想 DOM に対して操作します。仮想 DOM は、名前の通り仮想的な DOM です。\n仮想 DOM を DOM へ反映するために、差分検出処理(reconciliation)というアルゴリズムがあったり、Fiber と呼ばれる、レンダリングの最適化(優先順位)を目的としたアルゴリズムもあるようです。これらのおかげで、レンダリング負荷が軽減されるんだと思います。(しらんけど)"
    }), "\n", _jsx(_components.p, {
      children: "まだまだ理解が浅いので、これからもっと学んでいきたいと思います。"
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://ja.reactjs.org/docs/faq-internals.html",
          children: "仮想 DOM と内部処理 – React"
        })
      }), "\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://ja.reactjs.org/docs/reconciliation.html",
          children: "差分検出処理 – React"
        })
      }), "\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://github.com/acdlite/react-fiber-architecture",
          children: "acdlite/react-fiber-architecture: A description of React's new core algorithm, React Fiber"
        })
      }), "\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://postd.cc/react-fiber-architecture/",
          children: "React Fiber アーキテクチャについて | POSTD"
        })
      }), "\n"]
    }), "\n", _jsx(_components.p, {
      children: "レンダリングのタイミングは、いつなんでしょうか。"
    }), "\n", _jsx(_components.h2, {
      id: "レンダリングタイミング",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#レンダリングタイミング",
        children: "レンダリングタイミング"
      })
    }), "\n", _jsx(_components.p, {
      children: "基本的に、React は、親コンポーネントをレンダリングすると、子コンポーネントもレンダリングされます。"
    }), "\n", _jsx(_components.p, {
      children: "再レンダリングをキューイングする関数、setState や forUpdate などを呼ぶと、コンポーネントはレンダリングされることになります。"
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://blog.isquaredsoftware.com/2020/05/blogged-answers-a-mostly-complete-guide-to-react-rendering-behavior/",
          children: "Blogged Answers: A (Mostly) Complete Guide to React Rendering Behavior · Mark's Dev Blog"
        })
      }), "\n"]
    }), "\n", _jsx(_components.p, {
      children: "コードベースが大きくなるにつれて、レンダリングのパフォーマンスが悪化していきます。\nそこで、パフォーマンスの最適化が求められます。"
    }), "\n", _jsx(_components.h2, {
      id: "パフォーマンス最適化",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#パフォーマンス最適化",
        children: "パフォーマンス最適化"
      })
    }), "\n", _jsx(_components.p, {
      children: "最初からパフォーマンス最適化をする必要はありませんが、要件によっては必要になることもあります。\n最適化の手段として、React にある、次の 3 つの関数が使えます。"
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsxs(_components.li, {
        children: [_jsx(_components.a, {
          href: "https://ja.reactjs.org/docs/react-api.html#reactmemo",
          children: "memo"
        }), "\n", _jsxs(_components.ul, {
          children: ["\n", _jsxs(_components.li, {
            children: ["コンポーネントのレンダーをスキップできる\n", _jsxs(_components.ul, {
              children: ["\n", _jsx(_components.li, {
                children: "以前の props と現在の props で変更がなければ"
              }), "\n"]
            }), "\n"]
          }), "\n"]
        }), "\n"]
      }), "\n", _jsxs(_components.li, {
        children: [_jsx(_components.a, {
          href: "https://ja.reactjs.org/docs/hooks-reference.html#usememo",
          children: "useMemo"
        }), "\n", _jsxs(_components.ul, {
          children: ["\n", _jsxs(_components.li, {
            children: ["値を", _jsx(_components.a, {
              href: "https://en.wikipedia.org/wiki/Memoization",
              children: "メモ化"
            }), "できる"]
          }), "\n"]
        }), "\n"]
      }), "\n", _jsxs(_components.li, {
        children: [_jsx(_components.a, {
          href: "https://ja.reactjs.org/docs/hooks-reference.html#usecallback",
          children: "useCallback"
        }), "\n", _jsxs(_components.ul, {
          children: ["\n", _jsxs(_components.li, {
            children: ["関数を", _jsx(_components.a, {
              href: "https://en.wikipedia.org/wiki/Memoization",
              children: "メモ化"
            }), "できる\n", _jsxs(_components.ul, {
              children: ["\n", _jsx(_components.li, {
                children: "memo と併用して使う"
              }), "\n"]
            }), "\n"]
          }), "\n"]
        }), "\n"]
      }), "\n"]
    }), "\n", _jsxs(_components.p, {
      children: [_jsx(_components.a, {
        href: "https://ja.reactjs.org/docs/optimizing-performance.html",
        children: "パフォーマンス最適化 – React"
      }), "も参考になります。"]
    }), "\n", _jsx(_components.h2, {
      id: "比較アルゴリズム",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#比較アルゴリズム",
        children: "比較アルゴリズム"
      })
    }), "\n", _jsxs(_components.p, {
      children: ["React では、コンポーネントや状態が変更されたかどうかの判定に、", _jsx(_components.a, {
        href: "https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Object/is",
        children: "Object.is()"
      }), " を使っているようです。\nObject.is のサンプルコードは、次のとおりです。"]
    }), "\n", _jsx(_components.figure, {
      "data-rehype-pretty-code-figure": "",
      children: _jsx(_components.pre, {
        tabIndex: "0",
        "data-language": "javascript",
        "data-theme": "github-dark github-light",
        children: _jsxs(_components.code, {
          "data-language": "javascript",
          "data-theme": "github-dark github-light",
          style: {
            display: "grid"
          },
          children: [_jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "Object."
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: "is"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "("
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "\"foo\""
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ", "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "\"foo\""
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "); "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#6A737D",
                "--shiki-light": "#6A737D"
              },
              children: "// true"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "Object."
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: "is"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "("
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "\"foo\""
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ", "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "\"bar\""
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "); "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#6A737D",
                "--shiki-light": "#6A737D"
              },
              children: "// false"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "Object."
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: "is"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "([], []); "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#6A737D",
                "--shiki-light": "#6A737D"
              },
              children: "// false"
            })]
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: " "
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "var"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " foo "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "="
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " { a: "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: "1"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " };"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "var"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " bar "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "="
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " { a: "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: "1"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " };"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "Object."
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: "is"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "(foo, foo); "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#6A737D",
                "--shiki-light": "#6A737D"
              },
              children: "// true"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "Object."
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: "is"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "(foo, bar); "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#6A737D",
                "--shiki-light": "#6A737D"
              },
              children: "// false"
            })]
          })]
        })
      })
    }), "\n", _jsxs(_components.p, {
      children: ["string や integer のようなプリミティブな値は良いのですが、非プリミティブな値(Object)の場合の考慮が必要です。\n例えば、", _jsx(_components.a, {
        href: "https://ja.reactjs.org/docs/react-api.html#reactmemo",
        children: "memo"
      }), "の場合は、第二引数に比較関数を渡すことができます。\n例えば、次のような感じです。"]
    }), "\n", _jsx(_components.figure, {
      "data-rehype-pretty-code-figure": "",
      children: _jsx(_components.pre, {
        tabIndex: "0",
        "data-language": "javascript",
        "data-theme": "github-dark github-light",
        children: _jsxs(_components.code, {
          "data-language": "javascript",
          "data-theme": "github-dark github-light",
          style: {
            display: "grid"
          },
          children: [_jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "function"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: " MyComponent"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "("
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#FFAB70",
                "--shiki-light": "#E36209"
              },
              children: "props"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ") {}"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "function"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: " areEqual"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "("
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#FFAB70",
                "--shiki-light": "#E36209"
              },
              children: "prevProps"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ", "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#FFAB70",
                "--shiki-light": "#E36209"
              },
              children: "nextProps"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ") {"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "  return"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: " JSON"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "."
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: "stringify"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "(prevProps.foo) "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "==="
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: " JSON"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "."
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: "stringify"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "(nextProps.foo);"
            })]
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "}"
            })
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "export"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: " default"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " React."
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: "memo"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "(MyComponent, areEqual);"
            })]
          })]
        })
      })
    }), "\n", _jsxs(_components.p, {
      children: [_jsx(_components.a, {
        href: "https://ja.reactjs.org/docs/react-api.html#reactmemo",
        children: "公式ページにも書いています"
      }), "が、パフォーマンス最適化のみに使いましょう。"]
    }), "\n", _jsx(_components.h3, {
      id: "tips",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#tips",
        children: "Tips"
      })
    }), "\n", _jsxs(_components.p, {
      children: [_jsx(_components.code, {
        children: "Object.is()"
      }), " を使われている影響で、非プリミティブな値の状態更新に、工夫が必要です。"]
    }), "\n", _jsx(_components.figure, {
      "data-rehype-pretty-code-figure": "",
      children: _jsx(_components.pre, {
        tabIndex: "0",
        "data-language": "javascript",
        "data-theme": "github-dark github-light",
        children: _jsxs(_components.code, {
          "data-language": "javascript",
          "data-theme": "github-dark github-light",
          style: {
            display: "grid"
          },
          children: [_jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "const"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " ["
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: "items"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ", "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: "setItems"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "] "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "="
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: " useState"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "(["
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "\"a\""
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ", "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "\"b\""
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "]);"
            })]
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: " "
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#6A737D",
                "--shiki-light": "#6A737D"
              },
              children: "// NG"
            })
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "items."
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: "push"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "("
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "\"c\""
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: ");"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: "setItems"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "(items); "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#6A737D",
                "--shiki-light": "#6A737D"
              },
              children: "// 変更されない(Object.is()→true)"
            })]
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: " "
          }), "\n", _jsx(_components.span, {
            "data-line": "",
            children: _jsx(_components.span, {
              style: {
                "--shiki-dark": "#6A737D",
                "--shiki-light": "#6A737D"
              },
              children: "// OK"
            })
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "const"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#79B8FF",
                "--shiki-light": "#005CC5"
              },
              children: " newItems"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: " ="
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: " ["
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#F97583",
                "--shiki-light": "#D73A49"
              },
              children: "..."
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "items, "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#9ECBFF",
                "--shiki-light": "#032F62"
              },
              children: "\"c\""
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "];"
            })]
          }), "\n", _jsxs(_components.span, {
            "data-line": "",
            children: [_jsx(_components.span, {
              style: {
                "--shiki-dark": "#B392F0",
                "--shiki-light": "#6F42C1"
              },
              children: "setItems"
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#E1E4E8",
                "--shiki-light": "#24292E"
              },
              children: "(newItems); "
            }), _jsx(_components.span, {
              style: {
                "--shiki-dark": "#6A737D",
                "--shiki-light": "#6A737D"
              },
              children: "// 変更される(Object.is()→false)"
            })]
          })]
        })
      })
    }), "\n", _jsx(_components.p, {
      children: "NG の方は、同じオブジェクトを使いまわしているのに対し、OK の方は、新しくオブジェクトを生成しています。"
    }), "\n", _jsx(_components.h2, {
      id: "パフォーマンス調査",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#パフォーマンス調査",
        children: "パフォーマンス調査"
      })
    }), "\n", _jsx(_components.p, {
      children: "トップダウンでパフォーマンス調査をするのが、ベターと思います。"
    }), "\n", _jsxs(_components.ol, {
      children: ["\n", _jsx(_components.li, {
        children: "Chrome Developer Tools > Lighthouse を使い、performance score を確認"
      }), "\n", _jsx(_components.li, {
        children: "Chrome Developer Tools > Performance を使い、処理に時間がかかっている箇所を見つける"
      }), "\n", _jsx(_components.li, {
        children: "React Developer Tools > Profiler を使い、React コンポーネントのレンダリングで時間がかかっている箇所を調査"
      }), "\n"]
    }), "\n", _jsx(_components.h2, {
      id: "react-コンポーネント-デザインパターン",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#react-コンポーネント-デザインパターン",
        children: "React コンポーネント デザインパターン"
      })
    }), "\n", _jsx(_components.p, {
      children: "React でコンポーネントを実装していると、次の 3 つのパターンがあるようです。"
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsxs(_components.li, {
        children: ["Container and presentation\n", _jsxs(_components.ul, {
          children: ["\n", _jsx(_components.li, {
            children: "ロジックと UI を分離"
          }), "\n", _jsx(_components.li, {
            children: "XxxContainer, Xxx という命名が多い"
          }), "\n"]
        }), "\n"]
      }), "\n", _jsxs(_components.li, {
        children: ["Higher order component\n", _jsxs(_components.ul, {
          children: ["\n", _jsx(_components.li, {
            children: "高階コンポーネント"
          }), "\n", _jsx(_components.li, {
            children: "withXxx という命名が多い"
          }), "\n"]
        }), "\n"]
      }), "\n", _jsxs(_components.li, {
        children: ["Function as child\n", _jsxs(_components.ul, {
          children: ["\n", _jsx(_components.li, {
            children: "コンポーネントではなく関数を child として渡す"
          }), "\n"]
        }), "\n"]
      }), "\n"]
    }), "\n", _jsx(_components.h3, {
      id: "ロジックを独自フックとして切り出す",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#ロジックを独自フックとして切り出す",
        children: "ロジックを独自フックとして切り出す"
      })
    }), "\n", _jsx(_components.p, {
      children: "テスタビリティや再利用性の観点より、ロジックを hooks として切り出すのが良さそうです。"
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsx(_components.li, {
        children: _jsx(_components.a, {
          href: "https://ja.reactjs.org/docs/hooks-custom.html",
          children: "独自フックの作成 – React"
        })
      }), "\n"]
    }), "\n", _jsx(_components.p, {
      children: "命名は、use から始まることが多いです。"
    }), "\n", _jsx(_components.h2, {
      id: "その他",
      children: _jsx(_components.a, {
        className: "mdx-heading-anchor",
        href: "#その他",
        children: "その他"
      })
    }), "\n", _jsxs(_components.ul, {
      children: ["\n", _jsxs(_components.li, {
        children: ["コンポーネントコードと同じフォルダ内に、次のファイルを置きたい\n", _jsxs(_components.ul, {
          children: ["\n", _jsxs(_components.li, {
            children: ["テストコード (test)\n", _jsxs(_components.ul, {
              children: ["\n", _jsx(_components.li, {
                children: "仕様を知る"
              }), "\n"]
            }), "\n"]
          }), "\n", _jsxs(_components.li, {
            children: ["カタログコード(storybook)\n", _jsxs(_components.ul, {
              children: ["\n", _jsx(_components.li, {
                children: "UI を見る"
              }), "\n"]
            }), "\n"]
          }), "\n", _jsx(_components.li, {
            children: "スタイルコード (scss)"
          }), "\n"]
        }), "\n"]
      }), "\n", _jsxs(_components.li, {
        children: ["input 要素などの onChange には、debounce を使う\n", _jsxs(_components.ul, {
          children: ["\n", _jsx(_components.li, {
            children: "onChange の処理が重たいときに"
          }), "\n"]
        }), "\n"]
      }), "\n"]
    })]
  });
}
function MDXContent(props = {}) {
  const {wrapper: MDXLayout} = {
    ..._provideComponents(),
    ...props.components
  };
  return MDXLayout ? _jsx(MDXLayout, {
    ...props,
    children: _jsx(_createMdxContent, {
      ...props
    })
  }) : _createMdxContent(props);
}
return {
  default: MDXContent
};
0:{"buildId":"MMD6f_EM1muSxXBMwm7nb","rsc":["$","$1","c",{"children":[["$","$L2",null,{"comments":{"shortname":"https-silverbirder-github-io","url":"https://silverbirder.github.io/silverbirder.github.io-new/blog/contents/what_I_learned_when_I_started_using_React_in_my_work/"},"compiledSource":"$3","followLinks":{"bluesky":"https://bsky.app/profile/silverbirder.bsky.social","github":"https://github.com/silverbirder","rss":"https://silverbirder.github.io/silverbirder.github.io-new/rss.xml","threads":"https://www.threads.com/@silverbirder","x":"https://x.com/silverbirder"},"meta":{"index":false,"postNumber":80,"publishedAt":"2022-06-25","tags":["フロントエンド"],"title":"［覚書］Reactを業務で使い始めて知ったこと"},"navigation":{"next":{"href":"/blog/contents/part_time_jobs_I_had_as_a_student","publishedAt":"2022-06-29","title":"学生時代に経験したアルバイト"},"prev":{"href":"/blog/contents/fragments_to_be_composed_in_Micro_Frontends_are_defined_in_Web_Components_and_shared_in_Module_Federation","publishedAt":"2022-05-28","title":"Micro Frontendsで組成するフラグメントをWeb Componentsで定義してModule Federationで共有する"}},"relatedPosts":[{"posts":[{"publishedAt":"2025-11-06","slug":"20251106","summary":"AIが生成するコードは、必ずレビューしましょう。この記事では、AIが生成CSSをレビューする際の7つのポイントを紹介します。CSSのレビューをする際に参考にしてください。","tags":["フロントエンド"],"title":"AIが生成したCSSをレビューしよう"},{"publishedAt":"2025-08-27","slug":"microcopy-microinteractions-and-links","summary":"こんにちは、@silverbirderです。最近、湖県に移住してWebフロントエンドのお仕事をしています。お仕事をしていると、ユーザー体験を良くするためには、大きな改善をせずとも小さな改善だけでも十分な効果があると思い始めました。本記事では、その小さな改善となる、3つのことについて書きたいと思います。","tags":["フロントエンド","ブラウザ"],"title":"マイクロコピー、マイクロインタラクション、そしてリンク"},{"publishedAt":"2025-08-20","slug":"storybook-addon-range-controls","summary":"こんにちは。先日、ちょっとしたきっかけでStorybookのアドオンをはじめて開発しました。本記事では、そのStorybookのアドオン開発の体験を共有したいと思います。","tags":["フロントエンド"],"title":"はじめてのStorybookアドオン開発体験記"}],"tag":"フロントエンド"}],"shareUrl":"https://silverbirder.github.io/silverbirder.github.io-new/blog/contents/what_I_learned_when_I_started_using_React_in_my_work/"}],["$L4","$L5"],"$L6"]}],"loading":null,"isPartial":false}
4:["$","script","script-0",{"src":"/silverbirder.github.io-new/_next/static/chunks/2af2c9ac095cc29a.js","async":true}]
5:["$","script","script-1",{"src":"/silverbirder.github.io-new/_next/static/chunks/192ccf60ce702378.js","async":true}]
6:["$","$L7",null,{"children":["$","$8",null,{"name":"Next.MetadataOutlet","children":"$@9"}]}]
9:null
