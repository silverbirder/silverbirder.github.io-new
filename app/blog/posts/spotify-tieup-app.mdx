---
title: '1週間で完成！Spotifyタイアップ検索アプリを作った話（駆け出し9年目）'
publishedAt: '2024-09-24'
summary: 'どうも、Web業界で働き始めて9年目の駆け出しエンジニア、silverbirderです。Spotifyで音楽を聴いていると「この曲、どこかで聞いたことがあるけど、何の主題歌だったかな？」と思うこと、ありませんか？特にドライブ中や作業中に、ふと気になることが多いですよね。  私もそんな経験があり、気になったその曲が主題歌だったアニメを見始めたことがきっかけで、「簡単にタイアップ情報（アニメやドラマなど）を調べられるアプリがあったら便利だな」と思い、このアプリを作ることにしました。'
tags: ["Spotify", "AI", "OpenAI", "Google", "Artifact"]
---

どうも、Web業界で働き始めて9年目の駆け出しエンジニア、silverbirderです。

Spotifyで音楽を聴いていると「**この曲、どこかで聞いたことがあるけど、何の主題歌だったかな？**」と思うこと、ありませんか？特にドライブ中や作業中に、ふと気になることが多いですよね。  
私もそんな経験があり、気になったその曲が主題歌だったアニメを見始めたことがきっかけで、「**簡単にタイアップ情報（アニメやドラマなど）を調べられるアプリがあったら便利だな**」と思い、このアプリを作ることにしました。

以下が、実際に作成したWebアプリの画面とリンクです。

<Image  
  src="http://res.cloudinary.com/silverbirder/image/upload/v1727178744/pvfrczj9b5ogw58ooulu.png"  
  width={320}  
  height={700}  
  alt="タイアップ検索 デモ画像"  
/>

[https://tie-track.vercel.app](https://tie-track.vercel.app)

この記事では、このアプリの**技術的な部分**について詳しく紹介します。

ちなみに、Spotifyでよく[Anime Now](https://open.spotify.com/playlist/37i9dQZF1DWT8aqnwgRt92)を聴いています。タイアップ情報の検索にはもってこいです！

## アーキテクチャ概要

このアプリは、Spotifyで再生中の曲のタイアップ情報を素早く取得し、ユーザーに表示します。以下がそのアーキテクチャ図です。

<Image  
  src="http://res.cloudinary.com/silverbirder/image/upload/v1727178746/skhbbzuekqszzhkm5lgu.png"  
  width={540}  
  height={540}  
  alt="タイアップ検索アーキテクチャ図"  
/>

使用した技術スタックは以下の通りです。

- **Spotify API**: 再生中の曲情報を取得
- **Google Custom Search API**: タイアップ情報をGoogle検索
- **OpenAI API**: 検索結果からタイアップ情報を抽出
- **Next.js**: アプリケーションフレームワーク
  - デザイン参考: [v0.dev/chat](https://v0.dev/chat)
- **Icon生成**: [AI Icon Generator - perchance.org](https://perchance.org/ai-icon-generator)

## 開発の流れ

### タイアップ情報の取得

最初に、タイアップ情報を取得するためのAPIを探しましたが、**直接的にタイアップ情報を提供するものは見つかりません**でした。レコチョクなどのサービスも検討しましたが、必要な情報が不足していたため、断念しました。

次に、**ChatGPTを使ってタイアップ情報を取得**する方法を試しました。ChatGPTは、Web検索結果を含めた回答を返してくれるため、うまくいくこともありました。しかし、**OpenAI APIを使う場合はWeb検索が行われない**ため、タイアップ情報を取得するには不十分でした。

### Google Custom Search API + OpenAI API

そこで、**Google Custom Search API**を使い、タイアップ情報が掲載されているWebページを取得し、その情報を**OpenAI API**に渡して解析させる手法を採用しました。  
**この組み合わせにより、精度の高いタイアップ情報を得ることができました。**

### データの保存

API使用は**従量課金**のため、コスト管理が重要です。そこで、**Google検索結果とOpenAI APIの結果をデータベースに保存**し、同じ情報を何度も検索しないようにしています。

## 結果: Spotifyでアニメ主題歌を楽しむ

このアプリを使えば、Spotifyで再生中の曲が**どのアニメやドラマの主題歌**なのか、すぐに確認できます。特に、**秋のアニメシーズン**が近づいている今、気になる曲があればすぐに関連作品をチェックできるので、これからが楽しみです！

## 1週間で完成！

アイデアを思いついてから完成までにかかった時間は、[わずか1週間](https://x.com/silverbirder/status/1838179210403414103)。  
**思いついたアイデアを形にする**のは、本当に楽しい経験でした。

興味がある方はぜひ、アプリをお試しください！
