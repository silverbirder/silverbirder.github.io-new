(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59214,e=>{e.v(e.b(["static/chunks/c598f39b2ace8575.js","static/chunks/turbopack-c47798f9b7ecaa06.js"]))},47137,e=>{"use strict";var t=e.i(75096),r=e.i(95428),a=e.i(96730),l=e.i(9432),i=e.i(73569);e.i(16233);var o=e.i(33461),s=e.i(55964),n=e.i(40701),d=e.i(99979),u=e.i(84989),c=e.i(56054),p=e.i(68424),g=e.i(86131),h=e.i(64151),m=e.i(43146);let f=(0,p.forwardRef)(function(e,r){return(0,t.jsx)(m.Button,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:r,...e})});f.displayName="IconButton",e.s([],37218),e.i(37218);var x=e.i(47660);let[b,y]=(0,x.createContext)({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),v=e=>e.children(y());var j=e.i(657),S=e.i(60520);let w=(0,p.forwardRef)((e,r)=>{let a=y(),l=(0,j.mergeProps)(a.getErrorTextProps(),e);return a?.invalid?(0,t.jsx)(S.ark.span,{...l,ref:r}):null});w.displayName="FieldErrorText";let P=(0,p.forwardRef)((e,r)=>{let a=y(),l=(0,j.mergeProps)(a?.getHelperTextProps(),e);return(0,t.jsx)(S.ark.span,{...l,ref:r})});P.displayName="FieldHelperText";let k=(0,p.forwardRef)((e,r)=>{let a=y(),l=(0,j.mergeProps)(a?.getInputProps(),e);return(0,t.jsx)(S.ark.input,{...l,ref:r})});k.displayName="FieldInput";let T=(0,p.forwardRef)((e,r)=>{let a=y(),l=(0,j.mergeProps)(a?.getLabelProps(),e);return(0,t.jsx)(S.ark.label,{...l,ref:r})});T.displayName="FieldLabel";let R=(0,p.forwardRef)(({fallback:e,...r},a)=>{let l=y();if(!l.required)return e;let i=(0,j.mergeProps)(l.getRequiredIndicatorProps(),r);return(0,t.jsx)(S.ark.span,{...i,ref:a,children:r.children??"*"})});R.displayName="FieldRequiredIndicator";var N=e.i(34632),M=e.i(21032),A=e.i(71529),I=e.i(66125);let C="undefined"!=typeof window?p.useLayoutEffect:p.useEffect,[F,E]=(0,x.createContext)({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1});var L=e.i(56309);let _=(0,M.createSplitProps)(),q=(0,p.forwardRef)((e,r)=>{let[a,l]=_(e,["id","ids","disabled","invalid","readOnly","required"]),i=((e={})=>{let t=E(),r=(0,I.useEnvironmentContext)(),{ids:a,disabled:l=!!t?.disabled,invalid:i=!1,readOnly:o=!1,required:s=!1}=e,[n,d]=(0,p.useState)(!1),[u,c]=(0,p.useState)(!1),g=(0,p.useId)(),h=e.id??g,m=(0,p.useRef)(null),f=a?.control??`field::${h}`,x=a?.errorText??`field::${h}::error-text`,b=a?.helperText??`field::${h}::helper-text`,y=a?.label??`field::${h}::label`;C(()=>{let e=m.current;if(!e)return;let t=()=>{let e=r.getRootNode();d(!!e.getElementById(x)),c(!!e.getElementById(b))};t();let a=new(r.getWindow()).MutationObserver(t);return a.observe(e,{childList:!0,subtree:!0}),()=>a.disconnect()},[r,x,b]);let v=(0,p.useMemo)(()=>{let e=[];return n&&i&&e.push(x),u&&e.push(b),e.join(" ")||void 0},[i,x,b,n,u]),j=(0,p.useMemo)(()=>()=>({...L.parts.root.attrs,id:f,ref:m,role:"group","data-disabled":(0,A.dataAttr)(l),"data-invalid":(0,A.dataAttr)(i),"data-readonly":(0,A.dataAttr)(o)}),[l,i,o,f]),S=(0,p.useMemo)(()=>()=>({...L.parts.label.attrs,id:y,"data-disabled":(0,A.dataAttr)(l),"data-invalid":(0,A.dataAttr)(i),"data-readonly":(0,A.dataAttr)(o),"data-required":(0,A.dataAttr)(s),htmlFor:h}),[l,i,o,s,h,y]),w=(0,p.useMemo)(()=>()=>({"aria-describedby":v,"aria-invalid":(0,A.ariaAttr)(i),"data-invalid":(0,A.dataAttr)(i),"data-required":(0,A.dataAttr)(s),"data-readonly":(0,A.dataAttr)(o),id:h,required:s,disabled:l,readOnly:o}),[v,i,s,o,h,l]),P=(0,p.useMemo)(()=>()=>({...w(),...L.parts.input.attrs}),[w]),k=(0,p.useMemo)(()=>()=>({...w(),...L.parts.textarea.attrs}),[w]),T=(0,p.useMemo)(()=>()=>({...w(),...L.parts.select.attrs}),[w]),R=(0,p.useMemo)(()=>()=>({id:b,...L.parts.helperText.attrs,"data-disabled":(0,A.dataAttr)(l)}),[l,b]),N=(0,p.useMemo)(()=>()=>({id:x,...L.parts.errorText.attrs,"aria-live":"polite"}),[x]);return{ariaDescribedby:v,ids:{root:f,control:h,label:y,errorText:x,helperText:b},refs:{rootRef:m},disabled:l,invalid:i,readOnly:o,required:s,getLabelProps:S,getRootProps:j,getInputProps:P,getTextareaProps:k,getSelectProps:T,getHelperTextProps:R,getErrorTextProps:N,getRequiredIndicatorProps:(0,p.useMemo)(()=>()=>({"aria-hidden":!0,...L.parts.requiredIndicator.attrs}),[])}})(a),o=(0,j.mergeProps)(i.getRootProps(),l);return(0,t.jsx)(b,{value:i,children:(0,t.jsx)(S.ark.div,{...o,ref:(0,N.composeRefs)(r,i.refs.rootRef)})})});q.displayName="FieldRoot";let B=(0,M.createSplitProps)(),H=(0,p.forwardRef)((e,r)=>{let[{value:a},l]=B(e,["value"]),i=(0,j.mergeProps)(a.getRootProps(),l);return(0,t.jsx)(b,{value:a,children:(0,t.jsx)(S.ark.div,{...i,ref:r})})});H.displayName="FieldRootProvider";let $=(0,p.forwardRef)((e,r)=>{let a=y(),l=(0,j.mergeProps)(a?.getSelectProps(),e);return(0,t.jsx)(S.ark.select,{...l,ref:r})});$.displayName="FieldSelect";var z=e.i(29786);let O=(0,p.forwardRef)((e,r)=>{let{autoresize:a,...l}=e,i=(0,p.useRef)(null),o=y(),s=(0,j.mergeProps)(o?.getTextareaProps(),{style:{resize:a?"none":void 0}},l);return(0,p.useEffect)(()=>{if(a)return(0,z.autoresizeTextarea)(i.current)},[a]),(0,t.jsx)(S.ark.textarea,{...s,ref:(0,N.composeRefs)(r,i)})});O.displayName="FieldTextarea",e.s(["Context",()=>v,"ErrorText",()=>w,"HelperText",()=>P,"Input",()=>k,"Label",()=>T,"RequiredIndicator",()=>R,"Root",()=>q,"RootProvider",()=>H,"Select",()=>$,"Textarea",()=>O],88108);var W=e.i(88108),W=W;let{withContext:D,PropsProvider:U}=(0,e.i(51652).createRecipeContext)({key:"input"}),V=D(W.Input);e.i(91815);var K=e.i(65753),G=e.i(76761);function J(e){return(0,G.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"path",attr:{d:"m21 21-4.3-4.3"},child:[]}]})(e)}let Q="blog-search-index",X="blog-search-index-version",Y=r=>{let a,l,i,o,s,n,d,c,m,x,b,y,v,j,S,w,P,k,T,R,N=(0,g.c)(36),{onResultsChange:M}=r,A=(0,u.useTranslations)("user.blog"),I=(0,p.useId)(),C=(0,p.useRef)(null),F=(0,p.useRef)(null),E=(0,p.useRef)(""),[L,_]=(0,p.useState)("");N[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],N[0]=a):a=N[0];let[q,B]=(0,p.useState)(a),[H,$]=(0,p.useState)("loading");N[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,K.buildSitePath)("blog-search-index.json"),N[1]=l):l=N[1];let z=l;N[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,K.buildSitePath)("blog-search-index.version.json"),N[2]=i):i=N[2];let O=i;N[3]!==L?(o=L.trim(),N[3]=L,N[4]=o):o=N[4];let W=o;return N[5]!==W?(s=()=>{E.current=W},n=[W],N[5]=W,N[6]=s,N[7]=n):(s=N[6],n=N[7]),(0,p.useEffect)(s,n),N[8]!==M||N[9]!==q||N[10]!==H||N[11]!==W?(d=()=>{M(q,W,H)},c=[M,q,H,W],N[8]=M,N[9]=q,N[10]=H,N[11]=W,N[12]=d,N[13]=c):(d=N[12],c=N[13]),(0,p.useEffect)(d,c),N[14]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{let t=new Worker(e.r(59214));F.current=t,$("loading");let r=e=>{let r=e.data;if("ready"===r.type){$("ready"),E.current&&t.postMessage({payload:{limit:20,query:E.current},type:"search"});return}if("error"===r.type)return void $("error");if("results"===r.type){if(r.payload.query!==E.current)return;B(r.payload.results)}};return t.addEventListener("message",r),(async()=>{let e=function(){try{return{json:localStorage.getItem(Q),version:localStorage.getItem(X)}}catch{return{json:null,version:null}}}(),r=await fetch(O).catch(Z),a=r?.ok?await r.json().catch(ee):null,l=a&&"string"==typeof a.version?a.version:null;if(l&&e.version===l&&e.json)return void t.postMessage({payload:{json:e.json},type:"load"});let i=await fetch(z);if(!i.ok)throw Error("Failed to fetch search index");let o=await i.text();try{localStorage.setItem(Q,o),l?localStorage.setItem(X,l):localStorage.removeItem(X)}catch{}t.postMessage({payload:{json:o},type:"load"})})().catch(()=>{$("error")}),()=>{t.removeEventListener("message",r),t.terminate(),F.current=null}},m=[z,O],N[14]=m,N[15]=x):(m=N[14],x=N[15]),(0,p.useEffect)(x,m),N[16]!==H||N[17]!==W?(b=()=>{if(!F.current)return;if(!W)return void B([]);if("ready"!==H)return;let e=window.setTimeout(()=>{F.current?.postMessage({payload:{limit:20,query:W},type:"search"})},150);return()=>window.clearTimeout(e)},y=[H,W],N[16]=H,N[17]=W,N[18]=b,N[19]=y):(b=N[18],y=N[19]),(0,p.useEffect)(b,y),N[20]!==A?(v=A("searchLabel"),N[20]=A,N[21]=v):v=N[21],N[22]===Symbol.for("react.memo_cache_sentinel")?(j=()=>C.current?.focus(),N[22]=j):j=N[22],N[23]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)(J,{}),N[23]=S):S=N[23],N[24]!==v?(w=(0,t.jsx)(f,{"aria-label":v,onClick:j,size:"xs",variant:"ghost",children:S}),N[24]=v,N[25]=w):w=N[25],N[26]!==A?(P=A("searchLabel"),N[26]=A,N[27]=P):P=N[27],N[28]===Symbol.for("react.memo_cache_sentinel")?(k=e=>_(e.target.value),N[28]=k):k=N[28],N[29]!==I||N[30]!==L||N[31]!==P?(T=(0,t.jsx)(V,{"aria-label":P,id:I,onChange:k,ref:C,size:"xs",value:L,variant:"flushed",w:"140px"}),N[29]=I,N[30]=L,N[31]=P,N[32]=T):T=N[32],N[33]!==w||N[34]!==T?(R=(0,t.jsxs)(h.Flex,{align:"center",gap:1.5,children:[w,T]}),N[33]=w,N[34]=T,N[35]=R):R=N[35],R};function Z(){return null}function ee(){return null}let et=e=>{let t=Date.parse(e);return Number.isNaN(t)?0:t},er=e=>{let t=e.slice(0,4);return/^\d{4}$/.test(t)?t:null};e.s(["Posts",0,({posts:e})=>{let g,h,m,f,x=(0,c.useSearchParams)(),[b,y]=(0,p.useState)(""),[v,j]=(0,p.useState)([]),[S,w]=(0,p.useState)("loading"),P=x.get("year")??null,k=x.get("tag")??null,T=x.get("page"),R=T?Number(T):1,N=Number.isFinite(R)&&R>0?R:1,M=(0,u.useTranslations)("user.blog"),A=M("metaSeparator"),I=[...e].sort((e,t)=>et(t.publishedAt)-et(e.publishedAt)),C=(0,p.useMemo)(()=>new Map(I.map(e=>[e.slug,e])),[I]),F=Array.from(new Set(I.map(e=>er(e.publishedAt)).filter(e=>null!==e))).sort((e,t)=>Number(t)-Number(e)),E=Array.from(new Set(I.flatMap(e=>e.tags))).sort((e,t)=>e.localeCompare(t,"ja")),L=(g={tag:k,year:P},I.filter(e=>(!g.year||er(e.publishedAt)===g.year)&&(!g.tag||!!e.tags.includes(g.tag)))),_=(0,p.useMemo)(()=>new Set(L.map(e=>e.slug)),[L]),q=(h=Math.max(1,Math.ceil(L.length/10)),f=((m=Number.isFinite(N)?Math.min(Math.max(1,Math.trunc(N)),h):1)-1)*10,{currentPage:m,items:L.slice(f,f+10),totalPages:h}),B=((e,t)=>{if(t<=1)return[];let r=new Set([1,t]);for(let a of[-1,0,1]){let l=e+a;l>=1&&l<=t&&r.add(l)}let a=Array.from(r).sort((e,t)=>e-t),l=[],i=null;for(let t of a)null!==i&&t-i>1&&l.push({key:`${i}-${t}`,type:"ellipsis"}),l.push({isCurrent:t===e,page:t,type:"page"}),i=t;return l})(q.currentPage,q.totalPages),H=e=>{let t=new URLSearchParams,r=void 0===e.year?P:e.year,a=void 0===e.tag?k:e.tag,l=void 0===e.page?N:e.page??void 0;r&&t.set("year",r),a&&t.set("tag",a),l&&l>1&&t.set("page",String(l));let i=t.toString();return i?`/blog?${i}`:"/blog"},$=(0,p.useCallback)((e,t,r)=>{j(e),y(t),w(r)},[]);return(0,t.jsx)(r.Box,{w:"full",children:(0,t.jsxs)(o.Notebook,{headerRight:(0,t.jsx)(Y,{onResultsChange:$}),navigation:{},relatedPosts:[],tags:[],title:M("title"),children:[(0,t.jsxs)(l.Stack,{className:"not-prose",gap:"var(--notebook-line-height)",py:"var(--notebook-line-height)",children:[(P||k)&&(0,t.jsxs)(l.Stack,{direction:"row",gap:0,wrap:"wrap",children:[P&&(0,t.jsx)(n.Tag,{href:H({page:null,year:null}),iconType:"year",isSelected:!0,mr:2,tag:P}),k&&(0,t.jsx)(n.Tag,{href:H({page:null,tag:null}),isSelected:!0,mr:2,tag:k})]}),b.length>0?"ready"===S&&0===v.length?(0,t.jsx)(i.Text,{children:M("searchEmpty")}):v.filter(e=>_.has(e.slug)).map(e=>{let r=C.get(e.slug)??{publishedAt:e.publishedAt,slug:e.slug,summary:"",tags:[],title:e.title};return(0,t.jsx)(s.NotebookPostItem,{buildTagHref:e=>H({page:null,tag:k===e?null:e}),metaSeparator:A,post:r,selectedTag:k},e.slug)}):0===q.items.length?(0,t.jsx)(i.Text,{children:M("empty")}):q.items.map(e=>(0,t.jsx)(s.NotebookPostItem,{buildTagHref:e=>H({page:null,tag:k===e?null:e}),metaSeparator:A,post:e,selectedTag:k},e.slug))]}),0===b.length&&q.totalPages>1&&(0,t.jsx)(r.Box,{"aria-label":M("paginationLabel"),className:"not-prose",pb:"var(--notebook-line-height)",children:(0,t.jsxs)(l.Stack,{direction:"row",gap:2,wrap:"wrap",children:[(0,t.jsx)(d.ViewTransitionLink,{"aria-disabled":q.currentPage<=1,href:H({page:q.currentPage-1}),lineHeight:"var(--notebook-line-height)",pointerEvents:q.currentPage<=1?"none":"auto",children:M("paginationPrev")}),B.map(e=>"ellipsis"===e.type?(0,t.jsx)(i.Text,{lineHeight:"var(--notebook-line-height)",px:2,children:"â€¦"},e.key):(0,t.jsx)(d.ViewTransitionLink,{fontWeight:e.isCurrent?"bold":"normal",href:H({page:e.page}),lineHeight:"var(--notebook-line-height)",textDecoration:e.isCurrent?"underline":"none",children:e.page},e.page)),(0,t.jsx)(d.ViewTransitionLink,{"aria-disabled":q.currentPage>=q.totalPages,href:H({page:q.currentPage+1}),lineHeight:"var(--notebook-line-height)",pointerEvents:q.currentPage>=q.totalPages?"none":"auto",children:M("paginationNext")})]})}),0===b.length&&(F.length>0||E.length>0)&&(0,t.jsxs)(r.Box,{pb:"var(--notebook-line-height)",children:[(0,t.jsx)(a.Heading,{as:"h2",children:M("filtersTitle")}),F.length>0&&(0,t.jsx)(r.Box,{children:(0,t.jsx)(l.Stack,{direction:"row",gap:0,wrap:"wrap",children:F.map(e=>(0,t.jsx)(n.Tag,{href:H({page:null,year:P===e?null:e}),iconType:"year",isSelected:P===e,mr:2,tag:e},e))})}),E.length>0&&(0,t.jsx)(r.Box,{children:(0,t.jsx)(l.Stack,{direction:"row",gap:0,wrap:"wrap",children:E.map(e=>(0,t.jsx)(n.Tag,{href:H({page:null,tag:k===e?null:e}),isSelected:k===e,mr:2,tag:e},e))})})]})]})})}],47137)}]);